(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var c,a=n(1),s=n(0),i=n(61),j=n.n(i),r=n(19),u=n(13),o=n(2),b=n(62),l=n.n(b),O=n(26),h=n(63),d=function(e){var t=e.userName,n=Object(s.useState)(),i=Object(u.a)(n,2),j=i[0],r=i[1],o=Object(s.useState)(""),b=Object(u.a)(o,2),l=b[0],d=b[1],m=Object(s.useState)([]),x=Object(u.a)(m,2),f=x[0],p=x[1];Object(s.useEffect)((function(){t&&((c=Object(h.io)("http://localhost:4001")).emit("join",{userName:t}),c.on("new_join",(function(e){p((function(t){return[].concat(Object(O.a)(t),[e])}))})),c.on("new_leave",(function(e){p((function(t){return[].concat(Object(O.a)(t),[e])}))})),c.on("new_message",(function(e){p((function(t){return[].concat(Object(O.a)(t),[e])}))})),c.on("room_users",(function(e){var t=e.users;r(t)})))}),[t]);return Object(a.jsx)("div",{className:"container",children:t?Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)("div",{className:"chat-messages",children:f?f.map((function(e){return Object(a.jsx)("div",{children:e.text},Math.random())})):""}),Object(a.jsxs)("div",{className:"chat-input",children:[Object(a.jsx)("input",{className:"chat-input__area",value:l,onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("button",{className:"chat-input__button",onClick:function(e){l&&(c.emit("message",l),d(""))},children:"Send"})]}),Object(a.jsxs)("div",{className:"users",children:["Users: ",Object(a.jsx)("br",{}),j?j.map((function(e){return Object(a.jsx)("div",{children:e.name},e.id)})):""]})]}):Object(a.jsx)(a.Fragment,{})})},m=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)("chat"),j=Object(u.a)(i,2);j[0],j[1];return Object(a.jsxs)(r.a,{children:[n?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(r.b,{to:"/chat",children:Object(a.jsx)("button",{onClick:function(){l.a.get("".concat("http://localhost:4001","/public/login")).then((function(e){e&&e.data&&e.data.userName&&c(e.data.userName)}))},children:" Login"})}),Object(a.jsx)(o.c,{children:Object(a.jsx)(o.a,{path:"/chat",children:Object(a.jsx)(d,{userName:n})})})]})},x=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{}),Object(a.jsx)(d,{})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};j.a.render(Object(a.jsx)(r.a,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),f()}},[[120,1,2]]]);
//# sourceMappingURL=main.cbe5a333.chunk.js.map